# 8강. (데모) 오브젝트 스토리지 활용안
    
## Object Storage 사용하기

![Untitled](8%E1%84%80%E1%85%A1%E1%86%BC%20(%E1%84%83%E1%85%A6%E1%84%86%E1%85%A9)%20%E1%84%8B%E1%85%A9%E1%84%87%E1%85%B3%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5%E1%84%8C%E1%85%B5%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8B%E1%85%A1%E1%86%AB%209b920a2c4a3e44e7b31cad136f1d80b5/Untitled.png)

Object Storage 탭에서 이용 신청을 눌러서 이용할 수 있습니다.

이후에 Bucket Management를 해야 하는데, Bucket은 오브젝트들의 집합, 즉 일종의 폴더의 개념입니다.

![Untitled](8%E1%84%80%E1%85%A1%E1%86%BC%20(%E1%84%83%E1%85%A6%E1%84%86%E1%85%A9)%20%E1%84%8B%E1%85%A9%E1%84%87%E1%85%B3%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5%E1%84%8C%E1%85%B5%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8B%E1%85%A1%E1%86%AB%209b920a2c4a3e44e7b31cad136f1d80b5/Untitled%201.png)

버킷 생성을 누릅니다. 이름이나 객체 잠금 설정, 암호화 설정, 공유 권한을 설정하는 화면이 나오는데, 일단 아무것도 탭하지 않고 넘깁니다.

![Untitled](8%E1%84%80%E1%85%A1%E1%86%BC%20(%E1%84%83%E1%85%A6%E1%84%86%E1%85%A9)%20%E1%84%8B%E1%85%A9%E1%84%87%E1%85%B3%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5%E1%84%8C%E1%85%B5%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8B%E1%85%A1%E1%86%AB%209b920a2c4a3e44e7b31cad136f1d80b5/Untitled%202.png)

이 버킷에서 원하는 파일을 관리할 수 있습니다.

여기까지가 콘솔을 이용해 Object Storage를 이용하는 방법이고, 다른 방법은 AWS S3 Third Party Tool을 사용해서 매니징하는 방법이 있습니다. 이는 생략합니다.

## NAS를 서버에 마운트하기

![Untitled](8%E1%84%80%E1%85%A1%E1%86%BC%20(%E1%84%83%E1%85%A6%E1%84%86%E1%85%A9)%20%E1%84%8B%E1%85%A9%E1%84%87%E1%85%B3%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5%E1%84%8C%E1%85%B5%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8B%E1%85%A1%E1%86%AB%209b920a2c4a3e44e7b31cad136f1d80b5/Untitled%203.png)

NAS→Volume 생성 버튼을 누릅니다.

설정한 적용은 다음과 같습니다.

- 볼륨 이름: lab
- Volume 용량 설정: 500GB
- Protocol: NFS (Linux 서버를 이용할 것이기 때문에)
- 암호화: 해제

![Untitled](8%E1%84%80%E1%85%A1%E1%86%BC%20(%E1%84%83%E1%85%A6%E1%84%86%E1%85%A9)%20%E1%84%8B%E1%85%A9%E1%84%87%E1%85%B3%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5%E1%84%8C%E1%85%B5%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8B%E1%85%A1%E1%86%AB%209b920a2c4a3e44e7b31cad136f1d80b5/Untitled%204.png)

NFS 접근 제어 설정이 나오는데, NAS 스토리지에 접근 가능한 서버 중에서 ACL을 허용합니다.

읽기/쓰기를 모두 허용할 지, 읽기만 허용할 지를 고를 수 있습니다.

![Untitled](8%E1%84%80%E1%85%A1%E1%86%BC%20(%E1%84%83%E1%85%A6%E1%84%86%E1%85%A9)%20%E1%84%8B%E1%85%A9%E1%84%87%E1%85%B3%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5%E1%84%8C%E1%85%B5%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8B%E1%85%A1%E1%86%AB%209b920a2c4a3e44e7b31cad136f1d80b5/Untitled%205.png)

만들었으면, 이제 직접 서버에 마운트를 하러 가야 합니다.

iterm 등으로 서버에 원격 접속을 한 후 아래 명령어를 통해 nfs utils 패키지를 서버에 설치합니다.

```bash
$ yum -y install nfs-utils
```

그리고 RPC 데몬을 기동해야 한다고 합니다.

```bash
$ systemctl start rpcbind
$ systemctl enable rpcbind # 서버 실행 시 자동으로 rpc 데몬이 실행되도록 설정
```

마운트 포인트는 `/mnt/nas` 로 설정한다.

```bash
$ mkdir /mnt/nas
$ mount -t nfs <mount point> /mnt/nas
```

![저는 이미 한 번 마운트해서, 이미 마운트됐다고 뜹니다.](8%E1%84%80%E1%85%A1%E1%86%BC%20(%E1%84%83%E1%85%A6%E1%84%86%E1%85%A9)%20%E1%84%8B%E1%85%A9%E1%84%87%E1%85%B3%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5%E1%84%8C%E1%85%B5%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8B%E1%85%A1%E1%86%AB%209b920a2c4a3e44e7b31cad136f1d80b5/Untitled%206.png)

저는 이미 한 번 마운트해서, 이미 마운트됐다고 뜹니다.

![Untitled](8%E1%84%80%E1%85%A1%E1%86%BC%20(%E1%84%83%E1%85%A6%E1%84%86%E1%85%A9)%20%E1%84%8B%E1%85%A9%E1%84%87%E1%85%B3%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%20%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5%E1%84%8C%E1%85%B5%20%E1%84%92%E1%85%AA%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8B%E1%85%A1%E1%86%AB%209b920a2c4a3e44e7b31cad136f1d80b5/Untitled%207.png)

NAS 정보에서 마운트 포인트 정보를 확인할 수 있습니다.