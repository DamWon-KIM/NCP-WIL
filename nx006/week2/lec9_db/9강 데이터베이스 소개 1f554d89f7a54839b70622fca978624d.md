# 9강. 데이터베이스 소개

NCP에서는 두 가지 형태로 데이터베이스 서버를 제공한다.

첫 번째는 서버 이미지 형태로 제공하며, 서버 이미지를 바탕으로 MySQL 등이 이미 설치된 서버 등을 쉽게 구성할 수 있도록 제공하고

두 번 째는 완전 관리형 데이터베이스 서버로, 완전 관리형 서버는 자동 fail-over, 자동 백업과 같은 설정을 손쉽게 제공한다.

### Cloud DB for MySQL

![Untitled](9%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%201f554d89f7a54839b70622fca978624d/Untitled.png)

아래 그림은 failover 상황에서도 어떻게 고가용성이 유지되는 지 보여주는 그림이다.

Master DB와 Standby DB가 동작한다. 이때 Master DB에서 failover가 발생하고 나면, 즉시 standby DB가 Master DB로써 활동하게 되며, 뒷단에서는 다시 새로운 Stand By DB를 생성하게 된다.

![Untitled](9%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%201f554d89f7a54839b70622fca978624d/Untitled%201.png)

![Untitled](9%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%201f554d89f7a54839b70622fca978624d/Untitled%202.png)

### Cloud DB for Redis

![Untitled](9%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%201f554d89f7a54839b70622fca978624d/Untitled%203.png)

- 완전 관리형 데이터베이스이면서 인메모리 캐시 서비스
- Redis가 제공하지 않는 자동 failover 기능을 제공함

![Untitled](9%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%201f554d89f7a54839b70622fca978624d/Untitled%204.png)

### Cloud DB for MSSQL

![Untitled](9%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%201f554d89f7a54839b70622fca978624d/Untitled%205.png)

- MySQL과 비슷하게 Principle DB와 Mirror DB를 유지하며, Principle이 장애 발생 시 Mirror 서버가 Principle로 올라와서 작동한다.